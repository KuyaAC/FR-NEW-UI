<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="static/css/styles.css" />
        <link href="https://fonts.cdnfonts.com/css/death-font" rel="stylesheet">
        <link rel="stylesheet" href="static/css/mobilecss/mobile.css" />
        <link href="https://db.onlinewebfonts.com/c/a3cd6762eede2ec51f8999878ddc0b1e?family=CCSoliloquous+W00+Regular+V1" rel="stylesheet">
        <link href="https://db.onlinewebfonts.com/c/3d73cd0279f4c3db9b4f7db0305164f6?family=RansomNote" rel="stylesheet">
        <link href="https://fonts.cdnfonts.com/css/death-note-font" rel="stylesheet">
        <link href="https://db.onlinewebfonts.com/c/45ffe437a09fd50c32fa30c779e77e9d?family=Germania+One" rel="stylesheet"> 
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <title>For Real?</title>
    </head>
    <div>
        <div class="background-container">
            <div class="inputContainer">
                <div class="FRBigLogo" id="animatedContainerL">
                    <img src="static/images/LOGO.png">
                </div>
                <div class="container" id="animatedContainer">
                    <div class="dot"></div>
                    <div class="light-beam"></div>
                    <div class="upload-box">
                        <div class="upload-section">
                            <div class="content">
                                <div class="box">
                                    <!-- UPLOAD AUDIO -->
                                    <img
                                        src="static/images/upload.png"
                                        id="upload-button"
                                        class="button-image"
                                        alt="Upload Button"
                                        onclick="document.getElementById('file-input').click()"
                                    />
                                    <input
                                        type="file"
                                        id="file-input"
                                        accept="audio/*"
                                        multiple
                                        onchange="handleFileUpload(this.files)"
                                        style="display: none"
                                    />
                                    <div id="file-info" style="display: none">
                                        <p id="file-name"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <!-- AUDIO LIST PART (can play and delete audio) -->
                <div class="containerP" id="animatedContainerP" style="display: none;">
                <div class="dot1"></div>
                    <div class="light-beam"></div>
                    <div class="predict-box">
                        <div class="predict-section">
                            <div class="contentP">
                                <div class="prediction-box">
                                    <div class="audio-list" id="audio-list">
                                        <div class="audio-container">
                                        </div>
                                    </div>
                                    <button class="arrwBtn4" id="toggleButton4">
                                        <img src="static/images/arrwd.png" alt="Toggle Arrow" />
                                      </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Analysis Part beside the Audio list (when ContainerP is showing kasama ren to sa makikita) -->
                <div class="containerA" id="animatedContainerA" style="display: none;">
                    <div class="PredictionText">
                        <div class="PredictBox1">
                            <img id="img1" src="static/images/analyze.png">
                        </div>
                        <div class="PredictBox2">
                            <img id="img2" src="static/images/yes.png">
                        </div>
                        <div class="PredictBox3" onclick="location.reload()">
                            <img id="img3" src="static/images/No.png">
                        </div>
                    </div>
                </div>

                <!-- MORE INFO PART -->
                <div class="containerI" id="animatedContainerI" style="display: none;">
                    <div class="info-box">
                      <div class="textContent">
                        <img class="imgLogo" src="static/images/FORREAL.png" alt="FOR REAL" />
                        <p id="text1" class="active">
                          While we strive to provide accurate results, the system is not
                          guaranteed to be 100% correct in all cases. Audio deepfakes are
                          evolving, and the system's predictions may vary based on
                          numerous factors, including the quality of the audio and the
                          presence of real-world noise.
                        </p>
                        <p id="text2">
                          "For Real?" Audio Deepfake Detection system uses a combination
                          of CQT, GFCC, and WavLM Features together with an XGBoost
                          Classifier Trained on ASVspoof 2019 LA training Dataset.
                        </p>
                        <button class="arrwBtn" id="toggleButton">
                          <img src="static/images/arrwd.png" alt="Toggle Arrow" />
                        </button>
                      </div>
                    </div>
                </div>

                <!-- SHOW CARD PART -->
                <div class="containerC" id="animatedContainerC" style="display: none;">
                    <div class="preCardAnimation">
                      <img class="deck" src="static/images/deck.png" />
                    </div>
                    <div class="cardSpacing">
                      <div class="cardAnimation">
                        <!-- First row of cards -->
                         <!-- Dito sa part nato dead center talaga sya kahit ilang card kasoo-->
                          <!-- Pag lumagpas sa 5 yung card need ilagay sa kabilang row para maayos tignan-->
                        <div class="card-row">
                            <!-- PAPALITAN LANG YUNG UMAGE DEPENDE KUNG BONAFIDE OR SPOOF -->
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" /> 
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/spoof card 12.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/spoof card 12.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" />
                            </div>
                        </div>
                        <!-- Second row of cards (if more than 5) -->
                        <div class="card-row">
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/spoof card 12.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/spoof card 12.png" />
                            </div>
                            <div class="card1" onclick="showContainerMI()">
                                <img src="static/images/bonafide card 11.png" />
                            </div>
                        </div>
                      </div>
                    </div>
                    <div class="buttonSpacing">
                      <div class="homeBtn" onclick="location.reload()">Home</div>
                      <div class="summaryBtn">Summary</div>
                    </div>
                </div>

                <!-- SUMMARY POP UP -->
                <div class="containerSummary" style="display: none;">
                    <img src="static/images/CloseBtn.png" class="sumClsBtn" />
                    <div class="SpredictContainer">
                        <!-- DITO DIN PAPALITAN YUNG URL NG IMAGE DEPENDE SA PREDICTION -->
                        <div class="sumCard" style="background-image: url(static/images/SpoofSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p class="sumFileN">Filename.mp3</p>
                            <p class="sumPrediction">Spoof</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/BonaSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Bonafide</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/SpoofSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Spoof</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/BonaSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Bonafide</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/SpoofSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Spoof</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/BonaSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Bonafide</p>
                        </div>
                        <div class="sumCard" style="background-image: url(static/images/SpoofSummary.png); background-size: cover; background-repeat: no-repeat;">
                            <p>Filename.mp3</p>
                            <p>Spoof</p>
                        </div>

                        </div>
                    <button class="arrwBtn3" id="toggleButton3">
                        <img src="static/images/arrwd.png" alt="Toggle Arrow" />
                      </button>
                </div>

                <!-- VIEW INFO (ARROW RIGHT in the left side of the screen) -->
                <div class="viewInfo" style="display: block;">
                    <a class="arrow arrow-right" title="Model Information"></a>
                </div>

                <!-- More Info when the card is click part -->
                <div class="containerMI" id="containerMI">
                    <img src="static/images/CloseBtn.png" class="closeMI" />
                    <img src="static/images/B_info.png" class="changeMIbg" />
                    <div class="MItextPosition">
                      <div class="MItext1">
                        <!-- PAPALITAN YUNG MGA INFO DEPENDE SA PREDICTION -->
                        <h1 class="MIfilename">Filename.mp3</h1>
                        <div class="MIcontent1">
                          <h2>Prediction</h2>
                          <h3>Bonafide</h3>
                          <h2>Probability</h2>
                          <h3>0.10</h3>
                          <h2>Model Type</h2>
                          <h3>Hybrid</h3>
                        </div>
                        <div class="MIcontent2 hidden">
                            <!-- MAPAPALITAN YUNG TEXT CONTENT DEPENDE SA PREDICTION AT SA MODEL NA GAMIT -->
                          <h4>
                            A prediction of “Bonafide” means that this audio is more likely to
                            be genuine. The class is determined by a
                            <span class="clickable-threshold">custom threshold</span>.
                          </h4>
                          <!-- ITO PAG SPOOF -->
                          <!-- <h4>
                            A prediction of “Spoof” means that this audio is more likely to be 
                            AI Generated. The class is determined by a 
                            <span class="clickable-threshold">custom threshold</span>.
                          </h4> -->
                        
                          
                          <h4>
                            Probability pertains to the chance that the audio is deepfake.
                          </h4>
                          <!-- ito pipili depende kung HYbrid or HC yung gamit na model -->
                          <h4>“Hybrid Model” uses Handcrafted and WavLM Features.</h4>
                          <!-- <h4>“HC Model” uses only HandcraftedFeatures.</h4> -->
                        </div>
                      </div>
                      <button class="arrwBtn2" id="toggleButton2">
                        <img src="static/images/arrwd.png" alt="Toggle Arrow" />
                      </button>
                    </div>
                    <div class="CustomThreshold" style="display: none;">
                      <img src="static/images/ThresHybrid.png" />
                      <!-- <img src="static/images/thresHC.png" /> -->
                       <!-- Pag HC yung model ito yung pop up na threshold -->
                    </div>
                    
                </div>
                
            </div>
            <!-- SWITCH MODEL -->
            <div class="toggle-container">
                <div class="toggle-circle">
                  <img src="static/images/HybridLogo.png" style=""> 
                </div>
                <span class="toggle-text">Hybrid</span>
              </div>

        </div>

        <!-- Background blur effect -->
        <div class="blur-background"></div>
        
    </div>
  
    </body>
    <script>
        let uploadedFiles = new Set(); // Keep track of uploaded files

        function updateViewInfoVisibility() {
    const containerC = document.getElementById('animatedContainerC');
    const viewInfo = document.querySelector('.viewInfo');
    
    if (containerC.style.display === 'block') {
        viewInfo.style.display = 'none';
    } else {
        viewInfo.style.display = 'block';
    }
}
        
function updateLogoVisibility() {
    // Get the current screen width and height
    const width = window.innerWidth;
    const height = window.innerHeight;

    // Check if the screen size is 390x844
    if (width === 390 && height === 844) {
        return; // Do nothing if screen size is 390x844
    }

    // Otherwise, proceed with the logo visibility logic
    const logo = document.getElementById('animatedContainerL');
    const container = document.getElementById('animatedContainer');
    
    if (container.style.display === 'none') {
        logo.style.display = 'none';
    } else {
        logo.style.display = 'block';
    }
}

// For audio list to display and able to delete and play

function createAudioElement(file) {
    const audioContainer = document.createElement('div');
    audioContainer.className = 'audio-container';

    // Create audio content wrapper
    const audioContent = document.createElement('div');
    audioContent.className = 'audio-content';

    // Create audio info section
    const audioInfo = document.createElement('div');
    audioInfo.className = 'audio-info';

    // Add file name
    const fileName = document.createElement('div');
    fileName.className = 'file-name';
    fileName.textContent = file.name;

    // Add duration
    const duration = document.createElement('div');
    duration.className = 'duration';
    duration.textContent = '0:00';

    // Create controls section
    const audioControls = document.createElement('div');
    audioControls.className = 'audio-controls';

    // Add play button
    const playBtn = document.createElement('button');
    playBtn.className = 'play-btn';
    playBtn.innerHTML = '<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>';

    // Add delete button
    const deleteBtn = document.createElement('button');
    deleteBtn.className = 'delete-btn';
    deleteBtn.innerHTML = '<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>';

    // Create hidden audio element
    const audio = document.createElement('audio');
    audio.style.display = 'none';
    const source = URL.createObjectURL(file);
    audio.src = source;

    // Update duration when metadata is loaded
    audio.addEventListener('loadedmetadata', () => {
        const minutes = Math.floor(audio.duration / 60);
        const seconds = Math.floor(audio.duration % 60);
        duration.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    });

    // Handle play button click
    playBtn.onclick = () => {
        if (audio.paused) {
            audio.play();
            playBtn.innerHTML = '<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>';
        } else {
            audio.pause();
            playBtn.innerHTML = '<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>';
        }
    };

    // Handle delete button click
    deleteBtn.onclick = () => {
        audioContainer.remove();
        URL.revokeObjectURL(source);
        uploadedFiles.delete(file.name);
    };

    // Assemble the elements
    audioInfo.appendChild(fileName);
    audioInfo.appendChild(duration);
    audioControls.appendChild(playBtn);
    audioControls.appendChild(deleteBtn);
    audioContent.appendChild(audioInfo);
    audioContent.appendChild(audioControls);
    audioContainer.appendChild(audioContent);
    audioContainer.appendChild(audio);

    return audioContainer;
}

function handleFileUpload(files) {
    if (files.length === 0) return;

    const uploadContainer = document.getElementById('animatedContainer');
    const infoContainer = document.getElementById('animatedContainerP');
    const analyzeContainer = document.getElementById('animatedContainerA');
    const audioList = document.getElementById('audio-list');

    // Process each file
    Array.from(files).forEach(file => {
        if (!file.type.startsWith('audio/')) {
            alert(`File "${file.name}" is not an audio file.`);
            return;
        }

        if (!uploadedFiles.has(file.name)) {
            uploadedFiles.add(file.name);
            const audioElement = createAudioElement(file);
            audioList.appendChild(audioElement);
        }
    });

    // Hide upload container and show info container
    uploadContainer.style.display = 'none';
    infoContainer.style.display = 'block';
    analyzeContainer.style.display = 'block';
    
    // Update logo visibility
    updateLogoVisibility();
}

// Event Listeners for file upload
document.getElementById('file-input').addEventListener('change', function(event) {
    handleFileUpload(event.target.files);
});

const uploadBox = document.querySelector('.upload-box');
uploadBox.addEventListener('dragover', (e) => {
    e.preventDefault();
    uploadBox.classList.add('dragover');
});

uploadBox.addEventListener('dragleave', () => {
    uploadBox.classList.remove('dragover');
});

uploadBox.addEventListener('drop', (e) => {
    e.preventDefault();
    uploadBox.classList.remove('dragover');
    handleFileUpload(e.dataTransfer.files);
});



// MORE INFO PART (when click the button it switch text)
document.addEventListener('DOMContentLoaded', function() {
    // Info text switching functionality
    const text1 = document.getElementById("text1");
    const text2 = document.getElementById("text2");
    const toggleButton = document.getElementById("toggleButton");
    let showingText1 = true;

    toggleButton.addEventListener("click", function () {
        if (showingText1) {
            text1.classList.remove("active");
            setTimeout(() => {
                text1.style.display = "none";
                text2.style.display = "block";
                setTimeout(() => {
                    text2.classList.add("active");
                }, 50);
            }, 500);
        } else {
            text2.classList.remove("active");
            setTimeout(() => {
                text2.style.display = "none";
                text1.style.display = "block";
                setTimeout(() => {
                    text1.classList.add("active");
                }, 50);
            }, 500);
        }
        showingText1 = !showingText1;
    });

    // Ito yung part na pag na click nayung YES BUTTON sa analyze i hide nya na other container and show cards
    const yesButton = document.querySelector('.PredictBox2');
    yesButton.addEventListener('click', function() {
        // Hide current containers
        const predictContainer = document.getElementById('animatedContainerP');
        const analyzeContainer = document.getElementById('animatedContainerA');
        const infoContainer = document.getElementById('animatedContainerI');
        const cardContainer = document.getElementById('animatedContainerC');
        
        // Hide current containers
        predictContainer.style.display = 'none';
        analyzeContainer.style.display = 'none';
        infoContainer.style.display = 'none';
        
        // Show card container
        cardContainer.style.display = 'block';
        
        // Update viewInfo visibility
        updateViewInfoVisibility();
        
        // Trigger card animation
        setTimeout(() => {
            document.querySelector(".cardSpacing").classList.add("show-cards");
        }, 100);
        
        // Update logo visibility
        updateLogoVisibility();
    });

    // Update the reload functionality to handle viewInfo visibility
    document.querySelector('.homeBtn').addEventListener('click', function() {
        // After reload, containerC will be hidden, so viewInfo should be visible
        const viewInfo = document.querySelector('.viewInfo');
        viewInfo.style.display = 'block';
    });
});

// CONTAINER SWITCHING (ito yung nag hahanda ng pag papalit palit ng containers)
document.querySelector('.viewInfo').addEventListener('click', function() {
    const containers = {
        upload: document.getElementById('animatedContainer'),
        predict: document.getElementById('animatedContainerP'),
        analyze: document.getElementById('animatedContainerA'),
        info: document.getElementById('animatedContainerI'),
        custom: document.getElementById('animatedContainerC')
    };

    if (containers.info.style.display === 'block') {
        // Hide info container
        containers.info.style.display = 'none';
        
        // Check if we have files uploaded
        if (uploadedFiles.size > 0) {
            containers.predict.style.display = 'block';
            containers.analyze.style.display = 'block';
            containers.upload.style.display = 'none';
            containers.custom.style.display = 'none';
        } else {
            // If no files, show the upload container
            containers.upload.style.display = 'block';
            containers.predict.style.display = 'none';
            containers.analyze.style.display = 'none';
            containers.custom.style.display = 'none';
        }
    } else {
        // Store the current state before showing info
        const currentState = {
            hasUploadedFiles: uploadedFiles.size > 0,
            uploadVisible: containers.upload.style.display === 'block',
            predictVisible: containers.predict.style.display === 'block',
            analyzeVisible: containers.analyze.style.display === 'block',
            customVisible: containers.custom.style.display === 'block'
        };
        
        // Store the state on the element itself
        this.lastState = currentState;

        // Hide all containers
        Object.values(containers).forEach(container => {
            if (container) container.style.display = 'none';
        });

        // Show info container
        containers.info.style.display = 'block';
    }

    // Update viewInfo visibility
    updateViewInfoVisibility();
    
    // Update logo visibility
    updateLogoVisibility();
});


//ITo yung sa card MORE INFO part yung mga prediction shits

function showContainerMI() {
            const containerMI = document.getElementById('containerMI');
            const containerC = document.getElementById('animatedContainerC');

            containerMI.style.display = 'block';
            containerC.style.display = 'block';
        }
        const MIcontent1 = document.querySelector(".MIcontent1");
        const MIcontent2 = document.querySelector(".MIcontent2");
        const toggleButton = document.getElementById("toggleButton2");
        const clickableThreshold = document.querySelector(".clickable-threshold");
        const customThreshold = document.querySelector(".CustomThreshold");

    // Toggle for the original content
    toggleButton.addEventListener("click", () => {
      MIcontent1.classList.toggle("hidden");
      MIcontent2.classList.toggle("hidden");
    });

    // Toggle for the threshold display
   // Initially set the display to "none" in JavaScript
customThreshold.style.display = "none";

clickableThreshold.addEventListener("click", () => {
  // Check the display property and toggle it
  if (customThreshold.style.display === "none") {
    customThreshold.style.display = "block";
  } else {
    customThreshold.style.display = "none";
  }
});

//SCROLL SCRIPT NUNG SA SUMMARY PART
document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.getElementById('toggleButton3');
    const container = document.querySelector('.SpredictContainer');
    const scrollAmount = 100; // Adjust scroll amount as needed
    let isScrollingDown = true;

    // Function to check if scrolled to bottom
    function isScrolledToBottom() {
        return container.scrollHeight - container.clientHeight <= container.scrollTop + 1;
    }

    // Function to check if scrolled to top
    function isScrolledToTop() {
        return container.scrollTop === 0;
    }

    toggleButton.addEventListener('click', function() {
        if (isScrollingDown) {
            // Scroll down
            container.scrollBy({
                top: scrollAmount,
                behavior: 'smooth'
            });

            // If reached bottom, rotate arrow and change direction
            if (isScrolledToBottom()) {
                toggleButton.style.transform = 'rotate(180deg)';
                isScrollingDown = false;
            }
        } else {
            // Scroll up
            container.scrollBy({
                top: -scrollAmount,
                behavior: 'smooth'
            });

            // If reached top, reset arrow rotation and change direction
            if (isScrolledToTop()) {
                toggleButton.style.transform = 'rotate(0deg)';
                isScrollingDown = true;
            }
        }
    });

    // Add transition for smooth rotation
    toggleButton.style.transition = 'transform 0.3s ease';
});

//SCROLL SCRIPT NUNG SA AUDIO LIST
document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.getElementById('toggleButton4');
    const container = document.querySelector('.audio-list');
    const scrollAmount = 100; // Adjust scroll amount as needed
    let isScrollingDown = true;

    // Function to check if scrolled to bottom
    function isScrolledToBottom() {
        return container.scrollHeight - container.clientHeight <= container.scrollTop + 1;
    }

    // Function to check if scrolled to top
    function isScrolledToTop() {
        return container.scrollTop === 0;
    }

    toggleButton.addEventListener('click', function() {
        if (isScrollingDown) {
            // Scroll down
            container.scrollBy({
                top: scrollAmount,
                behavior: 'smooth'
            });

            // If reached bottom, rotate arrow and change direction
            if (isScrolledToBottom()) {
                toggleButton.style.transform = 'rotate(180deg)';
                isScrollingDown = false;
            }
        } else {
            // Scroll up
            container.scrollBy({
                top: -scrollAmount,
                behavior: 'smooth'
            });

            // If reached top, reset arrow rotation and change direction
            if (isScrolledToTop()) {
                toggleButton.style.transform = 'rotate(0deg)';
                isScrollingDown = true;
            }
        }
    });

    // Add transition for smooth rotation
    toggleButton.style.transition = 'transform 0.3s ease';
});


//SUMARRY POP UP PART
document.addEventListener('DOMContentLoaded', function() {
    // Existing code remains the same...

    // Add event listener for summary button
    const summaryBtn = document.querySelector('.summaryBtn');
    const sumClsBtn = document.querySelector('.sumClsBtn');
    const containerSummary = document.querySelector('.containerSummary');

    if (summaryBtn) {
        summaryBtn.addEventListener('click', function() {
            if (containerSummary) {
                containerSummary.style.display = 'block';
            }
        });
    }

    if (sumClsBtn) {
        sumClsBtn.addEventListener('click', function() {
            if (containerSummary) {
                containerSummary.style.display = 'none';
            }
        });
    }
});
document.querySelector('.closeMI').addEventListener('click', function() {
    const containerMI = document.getElementById('containerMI');
    containerMI.style.display = 'none';
});


//BLUR EFFECT
// Add this function to manage blur effect
function toggleBlurBackground(show) {
                const blurBackground = document.querySelector('.blur-background');
                blurBackground.style.display = show ? 'block' : 'none';
            }

            // Update the existing showContainerMI function
            function showContainerMI() {
                const containerMI = document.getElementById('containerMI');
                const containerC = document.getElementById('animatedContainerC');

                containerMI.style.display = 'block';
                containerC.style.display = 'block';
                toggleBlurBackground(true);
            }

            // Update the MI close button event listener
            document.querySelector('.closeMI').addEventListener('click', function() {
                const containerMI = document.getElementById('containerMI');
                containerMI.style.display = 'none';
                toggleBlurBackground(false);
            });

            // Update the summary button click handlers
            document.addEventListener('DOMContentLoaded', function() {
                const summaryBtn = document.querySelector('.summaryBtn');
                const sumClsBtn = document.querySelector('.sumClsBtn');
                const containerSummary = document.querySelector('.containerSummary');

                if (summaryBtn) {
                    summaryBtn.addEventListener('click', function() {
                        if (containerSummary) {
                            containerSummary.style.display = 'block';
                            toggleBlurBackground(true);
                        }
                    });
                }

                if (sumClsBtn) {
                    sumClsBtn.addEventListener('click', function() {
                        if (containerSummary) {
                            containerSummary.style.display = 'none';
                            toggleBlurBackground(false);
                        }
                    });
                }

                // Add click handler to close on background click (optional)
                document.querySelector('.blur-background').addEventListener('click', function() {
                    const containerMI = document.getElementById('containerMI');
                    const containerSummary = document.querySelector('.containerSummary');
                    
                    if (containerMI.style.display === 'block') {
                        containerMI.style.display = 'none';
                    }
                    if (containerSummary.style.display === 'block') {
                        containerSummary.style.display = 'none';
                    }
                    toggleBlurBackground(false);
                });
            });

    //SWITCH MODEL PART
    const toggleContainer = document.querySelector('.toggle-container');
    const toggleText = document.querySelector('.toggle-text');
   
    
    toggleContainer.addEventListener('click', () => {
      toggleContainer.classList.toggle('active2');
      if (toggleContainer.classList.contains('active2')) {
        toggleText.textContent = 'HC';
        
      } else {
        toggleText.textContent = 'Hybrid';
      
      }
    });

    //palitan si upload.png ng mobileupload.png for 390x844 dimensions

    function updateImageSource() {
        const uploadButton = document.getElementById('upload-button');
        
        // Check screen width and height
        if (window.innerWidth === 390 && window.innerHeight === 844) {
            uploadButton.src = "static/images/mobileupload.png"; // Mobile-specific image
        } else {
            uploadButton.src = "static/images/upload.png"; // Default image
        }
    }

    // Call the function on page load and window resize
    window.addEventListener('load', updateImageSource);
    window.addEventListener('resize', updateImageSource);

    function updateImagesForSpecificDimensions() {
        const width = window.innerWidth;
        const height = window.innerHeight;

        // Update images if screen dimensions match 390x844
        if (width === 390 && height === 844) {
            document.getElementById("img1").src = "static/images/mobileanalyze.png";
            document.getElementById("img2").src = "static/images/mobileyes.png";
            document.getElementById("img3").src = "static/images/mobileNo.png";
        } else {
            // Restore default images for other screen sizes
            document.getElementById("img1").src = "static/images/analyze.png";
            document.getElementById("img2").src = "static/images/yes.png";
            document.getElementById("img3").src = "static/images/No.png";
        }
    }

    // Run the function on page load
    updateImagesForSpecificDimensions();

    // Add an event listener to handle window resizing dynamically
    window.addEventListener("resize", updateImagesForSpecificDimensions);
            
    </script>
</html>